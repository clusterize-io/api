---
options:
  kops:
    #default: gobin -run github.com/kubernetes/kops/cmd/kops@v1.20.1
    default: gobin -run k8s.io/kops/cmd/kops@latest
tasks:
  cli-kops:
    run:
      - go install github.com/hashicorp/go-getter/cmd/go-getter@latest
      - mkdir -p ~/.cz/src/go-getter
      - go-getter https://github.com/kubernetes/kops/archive/refs/tags/v1.20.1.tar.gz ~/.cz/src/go-getter
      - cd ~/.cz/src/go-getter/kops-1.20.1 && go run ./cmd/kops

  kops:
    args:
      cmd:
        usage: command
    run:
      - cd ~/.cz/src/go-getter/kops-1.20.1 && go run ./cmd/kops ${cmd}

  create:
    run:
      - ${kops} --help